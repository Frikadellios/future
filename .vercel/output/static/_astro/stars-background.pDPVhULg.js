import{j as p}from"./jsx-runtime.BjG_zV1W.js";import{c as M}from"./utils.CmAReE4r.js";import{r as o}from"./index.CWu_4F6r.js";const S=({starDensity:u=15e-5,allStarsTwinkle:i=!0,twinkleProbability:f=.7,minTwinkleSpeed:c=.5,maxTwinkleSpeed:l=1,className:g})=>{const[h,x]=o.useState([]),a=o.useRef(null),m=o.useCallback((e,t)=>{const n=e*t,s=Math.floor(n*u);return Array.from({length:s},()=>{const r=i||Math.random()<f;return{x:Math.random()*e,y:Math.random()*t,radius:Math.random()*.05+.5,opacity:Math.random()*.5+.5,twinkleSpeed:r?c+Math.random()*(l-c):null}})},[u,i,f,c,l]);return o.useEffect(()=>{const e=()=>{if(a.current){const n=a.current;if(!n.getContext("2d"))return;const{width:r,height:d}=n.getBoundingClientRect();n.width=r,n.height=d,x(m(r,d))}};e();const t=new ResizeObserver(e);return a.current&&t.observe(a.current),()=>{a.current&&t.unobserve(a.current)}},[m]),o.useEffect(()=>{const e=a.current;if(!e)return;const t=e.getContext("2d");if(!t)return;let n;const s=()=>{t.clearRect(0,0,e.width,e.height);for(const r of h)t.beginPath(),t.arc(r.x,r.y,r.radius,0,Math.PI*2),t.fillStyle=`rgba(255, 255, 255, ${r.opacity})`,t.fill(),r.twinkleSpeed!==null&&(r.opacity=.5+Math.abs(Math.sin(Date.now()*.001/r.twinkleSpeed)*.5));n=requestAnimationFrame(s)};return s(),()=>{cancelAnimationFrame(n)}},[h]),p.jsx("canvas",{ref:a,className:M("h-full w-full absolute inset-0",g)})};export{S as StarsBackground};
